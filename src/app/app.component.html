<ion-app>
  <ion-menu menuId="menuPrincipal" contentId="main-content">
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Menu</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-list>
        <ion-menu-toggle>
          <ion-item button [routerLink]="['/principal']">
            <ion-label>Principal</ion-label>
          </ion-item>

          <ion-item button [routerLink]="['/lista-productos']">
            <ion-label>Lista de Productos</ion-label>
          </ion-item>

          <ion-item button [routerLink]="['/carrito-compras']">
            <ion-label>Carrito</ion-label>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>
    </ion-content>

    <footer>
      <ion-menu-toggle>
        <ion-button
          color="primary"
          expand="block"
          (click)="abrirModalIniciodeSesion()"
          *ngIf="!sessionIniciada"
        >
          INICIAR SESION
        </ion-button>

        <ion-button
          expand="block"
          (click)="cerrarSesion()"
          *ngIf="sessionIniciada"
        >
          Cerrar Sesion</ion-button
        >
      </ion-menu-toggle>
    </footer>
  </ion-menu>

  <ion-router-outlet id="main-content"></ion-router-outlet>

  <ion-modal (willDismiss)="onWillDismiss($event)" [isOpen]="abrirModal">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()" color="light">Cancel</ion-button>
          </ion-buttons>
          <ion-title>Iniciar sesion</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="registrate()" [strong]="true" color="light"
              >Registrate</ion-button
            >
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item>
          <ion-input
            label="Email"
            labelPlacement="stacked"
            type="email"
            placeholder="8g5hD@example.com"
            [(ngModel)]="email"
          ></ion-input>
        </ion-item>
        <ion-item>
          <ion-input
            label="Password"
            labelPlacement="stacked"
            type="password"
            [(ngModel)]="password"
          ></ion-input>
        </ion-item>
      </ion-content>
      <ion-button
        expand="block"
        (click)="iniciarSesion()"
        *ngIf="!sessionIniciada"
      >
        Iniciar Sesion</ion-button
      >
    </ng-template>
  </ion-modal>
</ion-app>
